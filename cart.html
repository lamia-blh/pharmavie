<!DOCTYPE html>
<html lang="en">

<head>
  <title>Pharma &mdash; Colorlib Template</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link href="https://fonts.googleapis.com/css?family=Rubik:400,700|Crimson+Text:400,400i" rel="stylesheet">
  <link rel="stylesheet" href="fonts/icomoon/style.css">

  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/magnific-popup.css">
  <link rel="stylesheet" href="css/jquery-ui.css">
  <link rel="stylesheet" href="css/owl.carousel.min.css">
  <link rel="stylesheet" href="css/owl.theme.default.min.css">


  <link rel="stylesheet" href="css/aos.css">

  <link rel="stylesheet" href="css/style.css">

</head>

<body>

  <div class="site-wrap">

    <div id="header"></div>
    <script>
      fetch('shared/header.html')
        .then(response => response.text())
        .then(data => {
          document.getElementById('header').innerHTML = data;
          const currentPath = window.location.pathname.split('/').pop();
          const menuItems = document.querySelectorAll('.site-menu a');
          menuItems.forEach(item => {
            if (item.getAttribute('href') === currentPath) {
              item.parentElement.classList.add('active');
            } else {
              item.parentElement.classList.remove('active');
            }
          });

          const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
          document.getElementById('cart-count').textContent = cartItems.length;
        })
        .catch(error => console.error('Error loading header:', error));
    </script>

    <div class="site-section">
      <div class="container">
        <div class="row mb-5">
          <form class="col-md-12" method="post">
            <div class="site-blocks-table">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th class="product-thumbnail">Image</th>
                    <th class="product-name">Product</th>
                    <th class="product-price">Price</th>
                    <th class="product-quantity">Quantity</th>
                    <th class="product-total">Total</th>
                    <th class="product-remove">Remove</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- Dynamic content will be inserted here by JavaScript -->
                </tbody>
              </table>
            </div>
          </form>
        </div>
      </div>
    </div>

    <footer class="site-footer">
      <div class="container">
        <div class="row">
          <div class="col-md-6 col-lg-3 mb-4 mb-lg-0">

            <div class="block-7">
              <h3 class="footer-heading mb-4">About Us</h3>
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eius quae reiciendis distinctio voluptates
                sed dolorum excepturi iure eaque, aut unde.</p>
            </div>

          </div>
          <div class="col-lg-3 mx-auto mb-5 mb-lg-0">
            <h3 class="footer-heading mb-4">Quick Links</h3>
            <ul class="list-unstyled">
              <li><a href="#">Supplements</a></li>
              <li><a href="#">Vitamins</a></li>
              <li><a href="#">Diet &amp; Nutrition</a></li>
              <li><a href="#">Tea &amp; Coffee</a></li>
            </ul>
          </div>
          <div class="col-md-6 col-lg-3">
            <div class="block-5 mb-5">
              <h3 class="footer-heading mb-4">Contact Info</h3>
              <ul class="list-unstyled">
                <li class="address"><a href="adrs://">Pharmacie Belle Vue,QWQ5+7HM, Aïn Benian</a></li>
                <li class="phone"><a href="tel://2135572195">+213 5572195</a></li>
                <li class="email"><a href="eml://pharmavie@gmail.com">pharmavie@gmail.com</a></li>
              </ul>
            </div>
              </ul>
            </div>


          </div>
        </div>
        <div class="row pt-5 mt-5 text-center">
          <div class="col-md-12">
            <p>
              <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
              Copyright &copy;
              <script>document.write(new Date().getFullYear());</script>
              with <i class="icon-heart" aria-hidden="true"></i> by <a href="https://www.who.int/fr" target="_blank"
                class="text-primary">organisation mondiale de la santé</a>
              <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            </p>
          </div>

        </div>
      </div>
    </footer>
  </div>

  <script src="js/jquery-3.3.1.min.js"></script>
  <script src="js/jquery-ui.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/aos.js"></script>

  <script src="js/main.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
      const cartTableBody = document.querySelector('.site-blocks-table tbody');

      function updateCartTable() {
        cartTableBody.innerHTML = '';
        cartItems.forEach((item, index) => {
          const row = document.createElement('tr');
          row.innerHTML = `
            <td class="product-thumbnail"><img src="${item.image}" alt="Image" class="img-fluid"></td>
            <td class="product-name"><h2 class="h5 text-black">${item.name}</h2></td>
            <td>${item.price}</td>
            <td>
              <div class="input-group mb-3" style="max-width: 120px;">
                <div class="input-group-prepend">
                  <button class="btn btn-outline-primary js-btn-minus" type="button">&minus;</button>
                </div>
                <input type="text" class="form-control text-center" value="${item.quantity}" placeholder="" aria-label="Example text with button addon" aria-describedby="button-addon1">
                <div class="input-group-append">
                  <button class="btn btn-outline-primary js-btn-plus" type="button">&plus;</button>
                </div>
              </div>
            </td>
            <td>${item.total}</td>
            <td><a href="#" class="btn btn-primary height-auto btn-sm js-btn-remove" data-index="${index}">X</a></td>
          `;
          cartTableBody.appendChild(row);
        });

        document.querySelectorAll('.js-btn-remove').forEach(button => {
          button.addEventListener('click', function(event) {
            event.preventDefault();
            const index = this.getAttribute('data-index');
            cartItems.splice(index, 1);
            localStorage.setItem('cartItems', JSON.stringify(cartItems));
            updateCartTable();
            document.getElementById('cart-count').textContent = cartItems.length;
          });
        });
      }

      updateCartTable();
    });
  </script>

</body>

</html>